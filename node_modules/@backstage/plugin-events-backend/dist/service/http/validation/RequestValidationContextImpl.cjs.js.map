{"version":3,"file":"RequestValidationContextImpl.cjs.js","sources":["../../../../src/service/http/validation/RequestValidationContextImpl.ts"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  RequestRejectionDetails,\n  RequestValidationContext,\n} from '@backstage/plugin-events-node';\n\nexport class RequestValidationContextImpl implements RequestValidationContext {\n  #rejectionDetails: RequestRejectionDetails | undefined;\n\n  reject(details?: Partial<RequestRejectionDetails>): void {\n    this.#rejectionDetails = {\n      status: details?.status ?? 403,\n      payload: details?.payload ?? {},\n    };\n  }\n\n  wasRejected(): boolean {\n    return this.#rejectionDetails !== undefined;\n  }\n\n  get rejectionDetails() {\n    return this.#rejectionDetails;\n  }\n}\n"],"names":[],"mappings":";;AAqBO,MAAM,4BAAA,CAAiE;AAAA,EAC5E,iBAAA;AAAA,EAEA,OAAO,OAAA,EAAkD;AACvD,IAAA,IAAA,CAAK,iBAAA,GAAoB;AAAA,MACvB,MAAA,EAAQ,SAAS,MAAA,IAAU,GAAA;AAAA,MAC3B,OAAA,EAAS,OAAA,EAAS,OAAA,IAAW;AAAC,KAChC;AAAA,EACF;AAAA,EAEA,WAAA,GAAuB;AACrB,IAAA,OAAO,KAAK,iBAAA,KAAsB,MAAA;AAAA,EACpC;AAAA,EAEA,IAAI,gBAAA,GAAmB;AACrB,IAAA,OAAO,IAAA,CAAK,iBAAA;AAAA,EACd;AACF;;;;"}