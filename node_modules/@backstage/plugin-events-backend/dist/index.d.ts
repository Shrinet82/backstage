import * as _backstage_backend_plugin_api from '@backstage/backend-plugin-api';
import { LoggerService } from '@backstage/backend-plugin-api';
import { Config } from '@backstage/config';
import { EventsService, HttpPostIngressOptions, HttpBodyParser } from '@backstage/plugin-events-node';
import express from 'express';

/**
 * Events plugin
 *
 * @public
 */
declare const eventsPlugin: _backstage_backend_plugin_api.BackendFeature;

/**
 * Publishes events received from their origin (e.g., webhook events from an SCM system)
 * via HTTP POST endpoint and passes the request body as event payload to the registered subscribers.
 *
 * @public
 */
declare class HttpPostIngressEventPublisher {
    static fromConfig(env: {
        config: Config;
        events: EventsService;
        ingresses?: {
            [topic: string]: Omit<HttpPostIngressOptions, 'topic'>;
        };
        bodyParsers?: {
            [contentType: string]: HttpBodyParser;
        };
        logger: LoggerService;
    }): HttpPostIngressEventPublisher;
    private readonly events;
    private readonly logger;
    private readonly ingresses;
    private readonly bodyParsers;
    private constructor();
    bind(router: express.Router): void;
    private createRouter;
    private addRouteForTopic;
}

export { HttpPostIngressEventPublisher, eventsPlugin as default };
